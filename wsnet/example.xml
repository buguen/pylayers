<?xml version='1.0' encoding='UTF-8'?>
<worldsens xmlns="http://worldsens.citi.insa-lyon.fr">


<!-- == Worldsens ===================================================== -->
<simulation nodes="500" duration="10s" x="100" y="100" z="0"/>


<!-- == Entities ===================================================== -->
<!-- == PROPAGATION, INTERFERENCES and MODULATION ===================== -->
<entity name="free-space" library="propagation_freespace">
</entity>

<entity name="interf" library="interferences_none">
</entity>

<entity name="none" library="modulation_none">
</entity>

<!-- == RADIO and ANTENNA ============================================ -->
<entity name="omnidirectionnal" library="antenna_omnidirectionnal">
  <default loss="0" angle-xy="random" angle-z="random"/>
</entity>

<entity name="radio" library="radio_half1d">
  <default  sensibility="-92" dBm="10" channel="0" modulation="none"/>
</entity>

<!-- == MAC ===================================================== -->
<entity name="mac" library="mac_dcf_802_11">
</entity>

<!-- == APPLICATION ===================================================== -->
<entity name="cbr" library="application_cbr">
</entity>

<!-- == MOBILITY ===================================================== -->
<entity name="static" library="mobility_static">
  <default x="random" y="random" z="random"/>
</entity>


<!-- == Environment ===================================================== -->
<environment>
  <propagation entity="free-space" range="200"/>
  <interferences entity="interf"/>
  <modulation entity="none"/>
</environment>


<!-- == Bundle ===================================================== -->
<bundle name="sensor" default="true">

<mobility entity="static"/>

<antenna entity="omnidirectionnal">
  <up entity="radio"/>
</antenna>

<with entity="radio">
  <up entity="mac"/>
  <down entity="omnidirectionnal"/>
</with>

<with entity="mac">
  <up entity="cbr"/>
  <down entity="radio"/>
</with>

<with entity="cbr">
  <down entity="mac"/>
</with>

</bundle> 

</worldsens>
